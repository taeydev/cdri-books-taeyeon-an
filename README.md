# 도서 검색 앱 📚

이 프로젝트는 도서 검색 및 찜 기능을 제공하는 웹 애플리케이션입니다.
외부 도서 API를 활용하여 키워드 기반 검색, 상세 조건 검색, 검색 기록 관리, 도서 찜하기 기능을 제공합니다.

## 기술 스택 ⚒️

- **Vite**: 빌드 도구
- **React**: UI 라이브러리
- **TypeScript**: 정적 타입 체크
- **Tanstack Query**: 서버 상태 관리
- **Emotion**: 스타일링 도구
  - 컴포넌트 단위로 스타일을 관리하고, 동적인 스타일링이 용이하여 생산성과 유지보수성을 높일 수 있어서 선택했습니다.
- **Zustand**: 상태 관리
  - 사용법이 간단하고 가벼워 전역 상태 관리를 효율적으로 할 수 있습니다. 이전 검색어와 찜 목록 상태 관리를 편리하게 하기 위해 선택했습니다.
- **React Router DOM**: 페이지 라우팅

## 폴더 구조 및 주요 코드 설명 📁

```
src
├── api         # 서버 통신 관련 함수 (API 호출 로직)
├── assets      # 이미지, 아이콘 등 정적 리소스 모음
├── components  # 재사용 가능한 UI 컴포넌트
├── hooks       # API 호출용 커스텀 훅
├── layouts     # 페이지 레이아웃 컴포넌트
├── models      # 데이터 모델 관련 코드
├── pages       # 라우팅되는 페이지 컴포넌트 (화면 단위)
├── store       # Zustand 등 전역 상태관리 코드
├── styles      # Emotion 전역 스타일, 디자인 시스템
└── types       # 타입 선언 파일 모음
```

- `useBookSearch.ts`: TanStack Query를 사용해 도서 검색 API 호출 및 데이터 캐싱을 담당. 키워드, 페이지, 카테고리 기준 검색 기능 포함.
- `useSearchHistoryStore.ts`: Zustand를 이용해 이전 검색어 목록 상태를 관리.
- `useWishlistStore.ts`: Zustand로 사용자 위시리스트 상태를 관리.

## 구현 내용 🖥️

이 앱은 도서 검색과 도서 찜하기 기능을 제공합니다.

### **상단 네비게이션 바**

- 두 개의 탭으로 구성되어 있습니다. 첫 번째 탭은 **도서 검색**, 두 번째 탭은 **내가 찜한 책**입니다.

### **도서 검색 페이지**

- 상단에 검색 입력창과 상세 검색 버튼이 있으며, 하단에 검색 결과가 노출됩니다.
- 검색어 입력 후 Enter 키 입력 시 검색된 도서 목록이 표시됩니다. 목록은 한 페이지당 10개씩 표시되며, 페이징 처리됩니다.
- 검색 결과가 없을 경우 "검색된 결과가 없습니다." 메시지가 표시됩니다.
- 검색 입력창에 포커스 시 이전 검색어 목록이 아래에 노출되며 최대 8개까지 노출됩니다.
- 이전 검색어 목록은 로컬 스토리지에 저장되며, 앱을 재접속할 때 로컬 스토리지에서 불러옵니다.
- 이전 검색어는 삭제할 수 있습니다.
- 상세 검색 버튼 클릭 시 상세 검색을 위한 모달창이 뜹니다.
- 상세 검색으로는 제목, 출판사, 저자명을 카테고리로 지정하여 검색할 수 있습니다.
- 검색된 도서 썸네일의 찜 버튼 클릭 시 내가 찜한 책에 추가됩니다.
- 상세 보기 클릭 시 아코디언이 펼쳐지며 상세 정보가 표시됩니다.
- 구매하기 버튼 클릭 시 새 탭이 추가되면서 해당 책의 상세페이지로 이동합니다.

### **내가 찜한 책 페이지**

- 찜한 도서들을 목록으로 보여주며, 한 페이지당 10개씩 표시되고 페이징 처리됩니다.
- 찜한 도서 목록은 로컬 스토리지에 저장되며, 앱을 재접속할 때 로컬 스토리지에서 불러옵니다.
- 찜한 도서의 찜 버튼을 다시 클릭 시 찜이 해제되며 즉시 목록에서 제거됩니다.

### 사용성 개선 💬

- **검색 중일 때 스켈레톤 UI 표시**
  - 검색 중일 때는 도서 목록에 **스켈레톤 UI**를 표시되어 사용자가 검색 결과를 기다리는 동안 시각적으로 안내합니다.
- **검색 API 에러 발생 시 에러 문구 노출**
  - 검색 API 호출 중 에러가 발생하면 사용자에게 **에러 문구**를 표시하여 문제를 알릴 수 있도록 구현했습니다.
- **도서 썸네일 개선**
  - 만약 도서의 썸네일 이미지가 없는 경우, **fallback 이미지**가 표시됩니다.
- **찜 목록 순서**
  - 최근 찜한 목록이 먼저 나오도록 하여 사용자 편의성을 높였습니다.
- **초기 로딩 화면**
  - 앱 초기 로딩 화면을 추가하여 사용자 경험을 향상시켰습니다.

### 성능 최적화 ⚡

- **검색어 입력 시 검색어 히스토리 영역 불필요한 리렌더링 방지**
  - 검색어 히스토리 영역을 컴포넌트로 분리하고 React.memo를 적용하였습니다.
  - props로 넘겨주는 함수에 useCallback를 적용하였습니다.
- **검색 결과 있을 때 검색어 입력 시 도서 목록 리스트 영역 불필요한 리렌더링 방지**
  - React.memo와 useCallback을 활용하여 불필요한 리렌더링을 방지하였습니다.
- **도서 찜했을 때 불필요한 리렌더링 방지**
  - 도서를 찜했을 때 부모인 List가 불필요하게 리렌더링되지 않도록, 찜 상태는 BookAccordionItem 컴포넌트 자체에서 관리하도록 변경하였습니다.

### 기타 📋

- API target 파라미터에 authors(저자명) 지원을 하지 않아, person(인명)으로 검색하도록 하였습니다.

## 설치 및 실행 방법 🚀

1. 의존성을 설치합니다.

```bash
npm install
```

2. 프로젝트 루트 디렉토리에 `.env` 파일을 생성하고, 다음과 같이 환경 변수를 설정합니다.

```bash
VITE_REST_API_KEY=your_api_key_here
```

3. 개발 서버를 시작합니다.

```bash
npm run dev
```
